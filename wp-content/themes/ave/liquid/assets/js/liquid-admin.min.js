!function($){function e(e,t){var i=0;console.log(e),o("liquid_"+e[e.length-e.length],e,t,function(){i++,o("liquid_"+e[i],e,t,function(){i++,o("liquid_"+e[i],e,t,function(){i++,o("liquid_"+e[i],e,t,function(){i++,o("liquid_"+e[i],e,t,function(){i++,o("liquid_"+e[i],e,t)})})})})})}function t(){var e,t,i,o,n;return $.ajax({url:ajaxurl,type:"GET",data:{action:"liquid_total_imported"}}).done(function(a){return e=parseInt(a.match(/(?:(?!\|).)*/i)[0]),a.indexOf("|")?(o=a.substring(0,a.indexOf("|")),n=a.replace(o,"")):n=e,n.match(/(\d+)(?!.*\d)/i)?(t=parseInt(n.match(/(\d+)(?!.*\d)/i)[0]),i=parseInt(100*t/e)):i=parseInt("100"),$("#lqd-loader").parent().css("width",i-1+"%"),$("#lqd-loader").text(i-1+"%"),!1}),!1}function i(){return $.ajax({url:ajaxurl,type:"GET",data:{action:"liquid_progress_imported"}}).done(function(e){return $("#liquid-progress").text(e),!1}),!1}function o(e,o,n,a){var r,l;r=setInterval(t,5e3),$.ajax({url:ajaxurl,type:"POST",data:{action:e,demo:n,content:$("#lqd-imp-all").is(":checked")?1:0,media:$("#lqd-imp-media").is(":checked")?1:0},beforeSend:function(e){$("#rela-import-loader").show(),$.ajax({url:ajaxurl,type:"POST",data:{action:"liquid_reset_logs"}}),l=setInterval(i,5e3)},success:function(e){},complete:function(){"function"!=typeof a||e.match("undefined")||a(),clearInterval(r),clearInterval(l)}}).done(function(t){if(console.log(t),"liquid_"+o[o.length-1]===e){clearInterval(r),clearInterval(l);var i=$("#liquid-popup");return $("#lqd-loader").parent().css("min-width","100%"),$("#lqd-loader").text("100%"),setTimeout(function(){$("#liquid-import-emoj").show(),$("#rela-import-complete").show(),$("#lqd-progress-popup").hide(),$("#liquid-progress").hide(),setTimeout(function(){i.remove()},1e4)},800),!1}})}function n(e){$.ajax({method:"POST",url:ajaxurl,data:e,contentType:!1,processData:!1,beforeSend:function(){$("#rela-import-loader").show()}}).done(function(t){if(void 0!==t.status&&"newAJAX"===t.status)n(e);else if(void 0!==t.status&&"customizerAJAX"===t.status){var i=new FormData;i.append("action","ocdi_import_customizer_data"),i.append("wp_customize","on"),n(i)}else if(void 0!==t.status&&"afterAllImportAJAX"===t.status){var i=new FormData;i.append("action","ocdi_after_import_data"),n(i)}else if(void 0!==t.message){$("#rela-import-complete").show(),$("#rela-import-loader").hide();var o=$("#liquid-popup");setTimeout(function(){o.remove()},1e4)}else{$("#rela-import-complete").show(),$("#rela-import-loader").hide();var o=$("#liquid-popup");setTimeout(function(){o.remove()},1e4)}}).fail(function(e){$("#rela-import-complete").append('<div class="notice  notice-error  is-dismissible"><p>Error: '+e.statusText+" ("+e.status+")</p></div>"),$("#rela-import-loader").hide();var t=$("#liquid-popup");setTimeout(function(){t.remove()},1e4)})}function a(e){$.ajax({url:ajaxurl,type:"POST",data:{action:"liquid_reset_wp"},beforeSend:function(){$("#liquid-demo-loader").addClass("is-active")}}).done(function(t){console.log(t),$("#liquid-demo-loader").removeClass("is-active"),"function"==typeof e&&e()})}function r(e){"function"==typeof e&&e()}function l(e){var t=$("#lqd-popup");t.on("click",".lqd-imp-popup-close",function(){t.remove()}),t.on("click",".agree",function(){var e=$(this),t=e.parent();e.is(":checked")?t.addClass("checked"):t.removeClass("checked")}),t.on("click",".lqd-import-btn",function(){var t=$(this),i=[];t.parent().parent().find("#lqd-import-opts .lqd-imp-opt :checked").each(function(){i.push($(this).val())});var o=new c(e,i,e)})}var c=function(t,i){var o=this;o.id=t,o.options=i,this.init=function(){var t=this,n,a=$("#lqd-popup"),r=this.options.slice();a.hide(),$("#rela-import-complete").hide(),$("#liquid-import-emoj").hide(),a.hide(),$(document.body).append(_.template($("#tmpl-demo-import-modules").html())({modules:this.options}));var l=new FormData;l.append("action","ocdi_import_demo_data"),l.append("selected",2),l.append("selections",i),e(o.options,o.id)},this.init()};$.fn.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),o=i.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null};var d={init:function(){this.oneCollectionLazyLoad(),this.initTabs(),this.initDemo(),this.initIconpicker()},initDemo:function(){$(".lqd-solid-wrap").on("click",".lqd-import-popup",function(){if(!$(".liquid-error-message").length){var e=$(this).data("demo-id"),t=liquid_demos[e],i=$(this).attr("data-import-id");return $.ajax({url:ajaxurl,type:"GET",data:{action:"liquid_prepare_demo_package",demo:e},beforeSend:function(){$("#liquid-demo-loader").addClass("is-active")}}).done(function(i){var o=JSON.parse(i);if(console.log(o),1===o.stat)$.ajax({url:ajaxurl,type:"POST",data:{action:"liquid_require_plugins",demo:e}}).done(function(i){console.log(i),$("#liquid-demo-loader").removeClass("is-active"),ret=JSON.parse(i),1==ret.stat?($(document.body).append(_.template($("#tmpl-demo-popup").html())(t)),l(e)):0==ret.stat&&(message=message="Please install/activate <strong>"+ret.plugins.toString()+"</strong>",r(function(){$.confirm({title:"Missing Required Plugins",content:message,buttons:{confirm:{text:"I understand, let's import, please",btnClass:"btn-blue",keys:["enter","shift"],action:function(){$(document.body).append(_.template($("#tmpl-demo-popup").html())(t)),l(e)}},cancel:function(){}}})}))});else{$("#liquid-demo-loader").removeClass("is-active");var n="Error:",a="Please, Activate Ave Core plugin";0===o.stat&&null!=o.message&&(n="Error",a=o.message),$.confirm({title:n,content:a,buttons:{confirm:{text:"Ok",btnClass:"btn-blue",keys:["enter","shift"],action:function(){}},cancel:function(){}}})}}),!1}})},oneCollectionLazyLoad:function(){var e=document.querySelectorAll(".vc_ui-template");if(e.length>=0)for(var t=new IntersectionObserver(function(e,t){e.forEach(function(e){var t=e.target,i=t.querySelector("img");e.isIntersecting&&(i.src=i.getAttribute("data-src"),$(i).parent().css("background-image","url("+i.getAttribute("data-src")+")"))})},{threshold:.25}),i=0;i<e.length;i++)t.observe(e[i])},initIconpicker:function(){if($.isFunction($.fn.fontIconPicker)){$(".liquid-icon-picker").fontIconPicker()}},initTabs:function(){var e=$().getParameterByName("page");$(".liquid-nav-tabs").find("li").each(function(){var t=$(this);t.data("tab")==e&&t.addClass("is-active")})}};jQuery(document).ready(function(){d.init()}),jQuery(document).ajaxComplete(function(e){d.initIconpicker()})}(jQuery);